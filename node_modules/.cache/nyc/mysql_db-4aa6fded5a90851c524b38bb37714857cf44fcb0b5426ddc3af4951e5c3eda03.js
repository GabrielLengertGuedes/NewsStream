function cov_25uaocwy4q(){var path="C:\\NewsStream\\database\\mysql_db.js";var hash="abd99d6d7ed3d5874fa6bf60d2e59e9983cc4716";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\NewsStream\\database\\mysql_db.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:31}},"1":{start:{line:3,column:13},end:{line:11,column:2}},"2":{start:{line:13,column:0},end:{line:47,column:3}},"3":{start:{line:14,column:4},end:{line:26,column:5}},"4":{start:{line:15,column:8},end:{line:15,column:71}},"5":{start:{line:16,column:8},end:{line:18,column:9}},"6":{start:{line:17,column:12},end:{line:17,column:71}},"7":{start:{line:19,column:8},end:{line:21,column:9}},"8":{start:{line:20,column:12},end:{line:20,column:67}},"9":{start:{line:22,column:8},end:{line:24,column:9}},"10":{start:{line:23,column:12},end:{line:23,column:103}},"11":{start:{line:25,column:8},end:{line:25,column:24}},"12":{start:{line:27,column:4},end:{line:46,column:5}},"13":{start:{line:29,column:31},end:{line:37,column:9}},"14":{start:{line:38,column:8},end:{line:45,column:11}},"15":{start:{line:39,column:12},end:{line:43,column:13}},"16":{start:{line:40,column:16},end:{line:40,column:99}},"17":{start:{line:44,column:12},end:{line:44,column:33}},"18":{start:{line:49,column:0},end:{line:49,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:40},end:{line:47,column:1}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:38,column:41},end:{line:38,column:42}},loc:{start:{line:38,column:59},end:{line:45,column:9}},line:38}},branchMap:{"0":{loc:{start:{line:14,column:4},end:{line:26,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:26,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:14},"1":{loc:{start:{line:16,column:8},end:{line:18,column:9}},type:"if",locations:[{start:{line:16,column:8},end:{line:18,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:16},"2":{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:19},"3":{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:22},"4":{loc:{start:{line:27,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:46,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:27},"5":{loc:{start:{line:39,column:12},end:{line:43,column:13}},type:"if",locations:[{start:{line:39,column:12},end:{line:43,column:13}},{start:{line:41,column:19},end:{line:43,column:13}}],line:39}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"abd99d6d7ed3d5874fa6bf60d2e59e9983cc4716"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_25uaocwy4q=function(){return actualCoverage;};}return actualCoverage;}cov_25uaocwy4q();const mysql=(cov_25uaocwy4q().s[0]++,require('mysql2'));const pool=(cov_25uaocwy4q().s[1]++,mysql.createPool({host:'localhost',user:'root',password:'',database:'newsstream_db',waitForConnections:true,connectionLimit:10,queueLimit:0}));cov_25uaocwy4q().s[2]++;pool.getConnection((err,connection)=>{cov_25uaocwy4q().f[0]++;cov_25uaocwy4q().s[3]++;if(err){cov_25uaocwy4q().b[0][0]++;cov_25uaocwy4q().s[4]++;console.error('Erro ao conectar ao pool de MySQL:',err.stack);cov_25uaocwy4q().s[5]++;if(err.code==='PROTOCOL_CONNECTION_LOST'){cov_25uaocwy4q().b[1][0]++;cov_25uaocwy4q().s[6]++;console.error('Conexão com o banco de dados foi perdida.');}else{cov_25uaocwy4q().b[1][1]++;}cov_25uaocwy4q().s[7]++;if(err.code==='ER_CON_COUNT_ERROR'){cov_25uaocwy4q().b[2][0]++;cov_25uaocwy4q().s[8]++;console.error('Muitas conexões com o banco de dados.');}else{cov_25uaocwy4q().b[2][1]++;}cov_25uaocwy4q().s[9]++;if(err.code==='ECONNREFUSED'){cov_25uaocwy4q().b[3][0]++;cov_25uaocwy4q().s[10]++;console.error('Conexão com o banco de dados recusada. Verifique se o MySQL está rodando.');}else{cov_25uaocwy4q().b[3][1]++;}cov_25uaocwy4q().s[11]++;process.exit(1);}else{cov_25uaocwy4q().b[0][1]++;}cov_25uaocwy4q().s[12]++;if(connection){cov_25uaocwy4q().b[4][0]++;const createTableSql=(cov_25uaocwy4q().s[13]++,`
            create table if not exists usuarios (
                id int auto_increment primary key,
                nome varchar(255) not null,
                email varchar(255) unique not null,
                senha varchar(255) not null,
                notificacoes int default 0
            )
        `);cov_25uaocwy4q().s[14]++;connection.query(createTableSql,(err,results)=>{cov_25uaocwy4q().f[1]++;cov_25uaocwy4q().s[15]++;if(err){cov_25uaocwy4q().b[5][0]++;cov_25uaocwy4q().s[16]++;console.error('Erro ao verificar/criar tabela de usuários no MySQL:',err.message);}else{cov_25uaocwy4q().b[5][1]++;}cov_25uaocwy4q().s[17]++;connection.release();});}else{cov_25uaocwy4q().b[4][1]++;}});cov_25uaocwy4q().s[18]++;module.exports=pool;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjV1YW9jd3k0cSIsImFjdHVhbENvdmVyYWdlIiwibXlzcWwiLCJzIiwicmVxdWlyZSIsInBvb2wiLCJjcmVhdGVQb29sIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwicXVldWVMaW1pdCIsImdldENvbm5lY3Rpb24iLCJlcnIiLCJjb25uZWN0aW9uIiwiZiIsImIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsImNvZGUiLCJwcm9jZXNzIiwiZXhpdCIsImNyZWF0ZVRhYmxlU3FsIiwicXVlcnkiLCJyZXN1bHRzIiwibWVzc2FnZSIsInJlbGVhc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsibXlzcWxfZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbXlzcWwgPSByZXF1aXJlKCdteXNxbDInKTtcclxuXHJcbmNvbnN0IHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKHtcclxuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgdXNlcjogJ3Jvb3QnLFxyXG4gICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgZGF0YWJhc2U6ICduZXdzc3RyZWFtX2RiJyxcclxuICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsXHJcbiAgICBxdWV1ZUxpbWl0OiAwXHJcbn0pO1xyXG5cclxucG9vbC5nZXRDb25uZWN0aW9uKChlcnIsIGNvbm5lY3Rpb24pID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNvbmVjdGFyIGFvIHBvb2wgZGUgTXlTUUw6JywgZXJyLnN0YWNrKTtcclxuICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdQUk9UT0NPTF9DT05ORUNUSU9OX0xPU1QnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbmV4w6NvIGNvbSBvIGJhbmNvIGRlIGRhZG9zIGZvaSBwZXJkaWRhLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFUl9DT05fQ09VTlRfRVJST1InKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ011aXRhcyBjb25leMO1ZXMgY29tIG8gYmFuY28gZGUgZGFkb3MuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VDT05OUkVGVVNFRCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ29uZXjDo28gY29tIG8gYmFuY28gZGUgZGFkb3MgcmVjdXNhZGEuIFZlcmlmaXF1ZSBzZSBvIE15U1FMIGVzdMOhIHJvZGFuZG8uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICAgIH1cclxuICAgIGlmIChjb25uZWN0aW9uKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWF0ZVRhYmxlU3FsID0gYFxyXG4gICAgICAgICAgICBjcmVhdGUgdGFibGUgaWYgbm90IGV4aXN0cyB1c3VhcmlvcyAoXHJcbiAgICAgICAgICAgICAgICBpZCBpbnQgYXV0b19pbmNyZW1lbnQgcHJpbWFyeSBrZXksXHJcbiAgICAgICAgICAgICAgICBub21lIHZhcmNoYXIoMjU1KSBub3QgbnVsbCxcclxuICAgICAgICAgICAgICAgIGVtYWlsIHZhcmNoYXIoMjU1KSB1bmlxdWUgbm90IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZW5oYSB2YXJjaGFyKDI1NSkgbm90IG51bGwsXHJcbiAgICAgICAgICAgICAgICBub3RpZmljYWNvZXMgaW50IGRlZmF1bHQgMFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgYDtcclxuICAgICAgICBjb25uZWN0aW9uLnF1ZXJ5KGNyZWF0ZVRhYmxlU3FsLCAoZXJyLCByZXN1bHRzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gdmVyaWZpY2FyL2NyaWFyIHRhYmVsYSBkZSB1c3XDoXJpb3Mgbm8gTXlTUUw6JywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHBvb2w7Il0sIm1hcHBpbmdzIjoiMDBHQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsS0FBSyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUUvQixLQUFNLENBQUFDLElBQUksRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdELEtBQUssQ0FBQ0ksVUFBVSxDQUFDLENBQzFCQyxJQUFJLENBQUUsV0FBVyxDQUNqQkMsSUFBSSxDQUFFLE1BQU0sQ0FDWkMsUUFBUSxDQUFFLEVBQUUsQ0FDWkMsUUFBUSxDQUFFLGVBQWUsQ0FDekJDLGtCQUFrQixDQUFFLElBQUksQ0FDeEJDLGVBQWUsQ0FBRSxFQUFFLENBQ25CQyxVQUFVLENBQUUsQ0FDaEIsQ0FBQyxDQUFDLEVBQUNiLGNBQUEsR0FBQUcsQ0FBQSxNQUVIRSxJQUFJLENBQUNTLGFBQWEsQ0FBQyxDQUFDQyxHQUFHLENBQUVDLFVBQVUsR0FBSyxDQUFBaEIsY0FBQSxHQUFBaUIsQ0FBQSxNQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQ3BDLEdBQUlZLEdBQUcsQ0FBRSxDQUFBZixjQUFBLEdBQUFrQixDQUFBLFNBQUFsQixjQUFBLEdBQUFHLENBQUEsTUFDTGdCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLG9DQUFvQyxDQUFFTCxHQUFHLENBQUNNLEtBQUssQ0FBQyxDQUFDckIsY0FBQSxHQUFBRyxDQUFBLE1BQy9ELEdBQUlZLEdBQUcsQ0FBQ08sSUFBSSxHQUFLLDBCQUEwQixDQUFFLENBQUF0QixjQUFBLEdBQUFrQixDQUFBLFNBQUFsQixjQUFBLEdBQUFHLENBQUEsTUFDekNnQixPQUFPLENBQUNDLEtBQUssQ0FBQywyQ0FBMkMsQ0FBQyxDQUM5RCxDQUFDLEtBQUFwQixjQUFBLEdBQUFrQixDQUFBLFVBQUFsQixjQUFBLEdBQUFHLENBQUEsTUFDRCxHQUFJWSxHQUFHLENBQUNPLElBQUksR0FBSyxvQkFBb0IsQ0FBRSxDQUFBdEIsY0FBQSxHQUFBa0IsQ0FBQSxTQUFBbEIsY0FBQSxHQUFBRyxDQUFBLE1BQ25DZ0IsT0FBTyxDQUFDQyxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FDMUQsQ0FBQyxLQUFBcEIsY0FBQSxHQUFBa0IsQ0FBQSxVQUFBbEIsY0FBQSxHQUFBRyxDQUFBLE1BQ0QsR0FBSVksR0FBRyxDQUFDTyxJQUFJLEdBQUssY0FBYyxDQUFFLENBQUF0QixjQUFBLEdBQUFrQixDQUFBLFNBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FDN0JnQixPQUFPLENBQUNDLEtBQUssQ0FBQywyRUFBMkUsQ0FBQyxDQUM5RixDQUFDLEtBQUFwQixjQUFBLEdBQUFrQixDQUFBLFVBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FDRG9CLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNuQixDQUFDLEtBQUF4QixjQUFBLEdBQUFrQixDQUFBLFVBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FDRCxHQUFJYSxVQUFVLENBQUUsQ0FBQWhCLGNBQUEsR0FBQWtCLENBQUEsU0FFWixLQUFNLENBQUFPLGNBQWMsRUFBQXpCLGNBQUEsR0FBQUcsQ0FBQSxPQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxFQUFDSCxjQUFBLEdBQUFHLENBQUEsT0FDRmEsVUFBVSxDQUFDVSxLQUFLLENBQUNELGNBQWMsQ0FBRSxDQUFDVixHQUFHLENBQUVZLE9BQU8sR0FBSyxDQUFBM0IsY0FBQSxHQUFBaUIsQ0FBQSxNQUFBakIsY0FBQSxHQUFBRyxDQUFBLE9BQy9DLEdBQUlZLEdBQUcsQ0FBRSxDQUFBZixjQUFBLEdBQUFrQixDQUFBLFNBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FDTGdCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHNEQUFzRCxDQUFFTCxHQUFHLENBQUNhLE9BQU8sQ0FBQyxDQUN0RixDQUFDLElBQU0sQ0FBQTVCLGNBQUEsR0FBQWtCLENBQUEsU0FFUCxDQUFDbEIsY0FBQSxHQUFBRyxDQUFBLE9BQ0RhLFVBQVUsQ0FBQ2EsT0FBTyxDQUFDLENBQUMsQ0FDeEIsQ0FBQyxDQUFDLENBQ04sQ0FBQyxLQUFBN0IsY0FBQSxHQUFBa0IsQ0FBQSxVQUNMLENBQUMsQ0FBQyxDQUFDbEIsY0FBQSxHQUFBRyxDQUFBLE9BRUgyQixNQUFNLENBQUNDLE9BQU8sQ0FBRzFCLElBQUkiLCJpZ25vcmVMaXN0IjpbXX0=